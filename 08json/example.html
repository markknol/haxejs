<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>How to | Haxe and Javascript</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-edit-link/plugin.css">
        
    
    

        
    
    
    <link rel="next" href="../follow.html" />
    
    
    <link rel="prev" href="../08json/about.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="10.1" data-basepath=".." data-revision="Thu Sep 17 2015 21:39:52 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="haxe/about.html">
            
                
                    <a href="../haxe/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Haxe basics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="haxe/installation.html">
            
                
                    <a href="../haxe/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="haxe/choosing-a-code-editor.html">
            
                
                    <a href="../haxe/choosing-a-code-editor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Code editor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="haxe/hello-world.html">
            
                
                    <a href="../haxe/hello-world.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Hello world
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="haxe/learn-haxe.html">
            
                
                    <a href="../haxe/learn-haxe.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Learn Haxe
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="haxejs/about.html">
            
                
                    <a href="../haxejs/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Haxe and Javascript
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="haxejs/index.html">
            
                
                    <a href="../haxejs/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Home
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="haxejs/api.html">
            
                
                    <a href="../haxejs/api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="haxejs/download.html">
            
                
                    <a href="../haxejs/download.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Download
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="haxejs/externs.html">
            
                
                    <a href="../haxejs/externs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Externs
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="00helloworld/about.html">
            
                
                    <a href="../00helloworld/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Example Hello World
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="00helloworld/example.html">
            
                
                    <a href="../00helloworld/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="01jquery/about.html">
            
                
                    <a href="../01jquery/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Example jQuery
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="01jquery/example.html">
            
                
                    <a href="../01jquery/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="02dom/about.html">
            
                
                    <a href="../02dom/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Example DOM
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="02dom/example.html">
            
                
                    <a href="../02dom/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="03vanillajs/about.html">
            
                
                    <a href="../03vanillajs/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Example VanillaJS
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="03vanillajs/example.html">
            
                
                    <a href="../03vanillajs/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="05externs/about.html">
            
                
                    <a href="../05externs/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Example Externs
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="05externs/example.html">
            
                
                    <a href="../05externs/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="06nasa/about.html">
            
                
                    <a href="../06nasa/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Example NASA
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="06nasa/example.html">
            
                
                    <a href="../06nasa/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="07pixi/about.html">
            
                
                    <a href="../07pixi/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Example pixi.js
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="07pixi/example.html">
            
                
                    <a href="../07pixi/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="08json/about.html">
            
                
                    <a href="../08json/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Example Json
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="10.1" data-path="08json/example.html">
            
                
                    <a href="../08json/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        How to
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" >
            
            <span><b>11.</b> Resources</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1" data-path="follow.html">
            
                
                    <a href="../follow.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                        Who to follow
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.2" >
            
                
                    <a target="_blank" href="http:/matthijskamstra.github.io/haxenode/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.2.</b>
                        
                        HaxeNode
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.3" >
            
                
                    <a target="_blank" href="http:/try.haxe.org/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.3.</b>
                        
                        Try Haxe!
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.4" >
            
                
                    <a target="_blank" href="https:/groups.google.com/forum/#!topic/haxelang/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.4.</b>
                        
                        Community
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12" data-path="contribute.html">
            
                
                    <a href="../contribute.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Contribute
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" >
            
                
                    <a target="_blank" href="https:/github.com/MatthijsKamstra/haxejs/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Source
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <a href="../GLOSSARY.html" class="btn pull-left" aria-label="Glossary"><i class="fa fa-sort-alpha-asc"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Haxe and Javascript</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <a id="edit-link" href="https://github.com/MatthijsKamstra/haxejs/blob/master/08json/example.md" class="btn fa fa-edit pull-left">&nbsp;&nbsp;Edit This Page</a><h1 id="example-json">Example json</h1>
<p>I have created the <a href="https://github.com/MatthijsKamstra/haxejs/tree/master/08json/code/bin/assets/users.json" target="_blank">user.json</a> with <a href="http://jsonplaceholder.typicode.com/users" target="_blank">http://jsonplaceholder.typicode.com/users</a>.</p>
<p>Check the <a href="https://github.com/MatthijsKamstra/haxejs/tree/master/08json/code" target="_blank">code folder</a> for more comments.</p>
<p>In this example we are going to use <a href="../GLOSSARY.html#vanillajs" class="glossary-term" title="is a name to refer to using plain JavaScript without any additional libraries like jQuery. People use it as a joke to remind other developers that many things can be done nowadays without the need for additional JavaScript libraries.">VanillaJS</a> and read and use a <code>.json</code> file.</p>
<h2 id="how-to-start">How to start</h2>
<p>Create a folder named <strong><a href="../GLOSSARY.html#foobar" class="glossary-term" title="The terms foobar, fubar, or foo, bar, baz and qux (alternatively, quux) and sometimes norf and many others are sometimes used as placeholder names (also referred to as metasyntactic variables) in computer programming or computer-related documentation.">foobar</a></strong> (please use a better name; any name will do) and create folders <strong>bin</strong> and <strong>src</strong>.
See example below:</p>
<pre><code>+ foobar
    + bin
    + src
        - Main.hx
    - javascript.hxml
</code></pre><h2 id="the-main-hx">The Main.hx</h2>
<p>This example is getting to big to post here, so if you want to check out the complete file go and check out <a href="https://github.com/MatthijsKamstra/haxejs/tree/master/08json/code/Main.hx" target="_blank">Main.hx</a> </p>
<p>So the first part of this code is loading the <code>json</code> file. We use <a href="http://api.haxe.org/haxe/Http.html" target="_blank">http://api.haxe.org/haxe/Http.html</a> for that:</p>
<pre><code>var req = new haxe.Http(&apos;assets/users.json&apos;);
req.onData = function (data : String)
{
    Browser.alert(&apos;data: $data&apos;);
}
req.onError = function (error)
{
    Browser.alert(&apos;error: $error&apos;);
}
req.request(true);
</code></pre><p>convert data (String) to a <code>json</code> file:
<a href="http://api.haxe.org/haxe/Json.html" target="_blank">http://api.haxe.org/haxe/Json.html</a></p>
<pre><code>    // Browser.alert(&apos;data: $data&apos;);
    _json = haxe.Json.parse(data);
</code></pre><p>And then it&apos;s possible to convert the <code>json</code> to usable input:</p>
<pre><code>for (i in 0 ... _json.length)
{
    var _user = _json[i];
    trace ( &quot;Name: &quot; + _user.name );
}
</code></pre><p>To make that easier I use <a href="http://haxe.org/manual/type-system-typedef.html" target="_blank"><code>typedef</code></a></p>
<p>We convert the json data to <code>User</code> so when we use a IDE it will use autocompletion</p>
<pre><code>typedef User = 
{
    var id : Int; // 1
    var name : String; // Leanne Graham
    var username : String; // Bret
    var email : String; // Sincere@april.biz
    var address : {
          var street : String; // Kulas Light
          var suite : String; // Apt. 556
          var city : String; // Gwenborough
          var zipcode : String; // 92998-3874
          var geo : {
            var lat : String; // -37.3159
            var lng : String; // 81.1496
          };
    };
    var phone : String; // 1-770-736-8031 x56442
    var website : String; // hildegard.org
    var company : {
          var name : String; // Romaguera-Crona
          var catchPhrase : String; // Multi-layered client-server neural-net
          var bs : String; // harness real-time e-markets
    };
}
</code></pre><h2 id="index-html">index.html</h2>
<p>I have used a more extensive <code>index.html</code> in the <a href="https://github.com/MatthijsKamstra/haxejs/tree/master/08json/code" target="_blank">code folder</a>, but you could work with this minimal version:</p>
<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Haxe JS - json example&lt;/title&gt;&lt;/head&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            .user {
                background-color: silver;
                margin: 10px;
                padding: 10px;
            }
        &lt;/style&gt;
    &lt;/head&gt;
&lt;body&gt;

    &lt;!-- Your Haxe compiled script --&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;example.js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="neko-web-server">Neko Web Server</h2>
<p>We will use a not often mentioned feature from Haxe.</p>
<p>You can run a webserver : <a href="http://old.haxe.org/doc/start/neko#using-the-neko-development-webserver-to-serve-http-requests-whose-contents-are-generated-by-haxe" target="_blank">Neko Web Server</a></p>
<p>And the cool part is: <strong>You don&apos;t have to install anything if you already have Haxe installed.</strong></p>
<p>You need the path to your files (so replace <code>path/to/files</code> with your own path)<br><em>example:</em> <code>path/to/files/haxejs/07pixi/code/bin/</code></p>
<pre><code>nekotools server -p 2000 -h localhost -d path/to/files
</code></pre><p>and open your browser to <a href="http://localhost:2000" target="_blank">http://localhost:2000</a></p>
<h2 id="the-haxe-build-file-javascript-hxml">The Haxe build file, javascript.<a href="../GLOSSARY.html#hxml" class="glossary-term" title="Haxe build file">hxml</a></h2>
<p>There are a lot of different arguments that you are able to pass to the Haxe compiler.
These arguments can also be placed into a text file of one per line with the extension <a href="../GLOSSARY.html#hxml" class="glossary-term" title="Haxe build file">hxml</a>. This file can then be passed directly to the Haxe compiler as a build script.</p>
<pre><code># // javascript.hxml
-cp src
-main Main
-js bin/example.js
-dce full
</code></pre><h2 id="build-js-with-haxe">Build js with Haxe</h2>
<p>To finish and see what we have, build the file and see the result</p>
<ol>
<li>Open your <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a></li>
<li><code>cd</code> to the correct folder where you have saved the <code>javascript.hxml</code> </li>
<li>type <code>haxe javascript.hxml</code></li>
<li>press enter</li>
</ol>
<p>You could build everything directly in the <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a>.</p>
<pre><code>haxe -cp src -main Main -js bin/example.js -dce full
</code></pre><p>It will have the same result</p>
<p>Checkout this old try.haxe example:
<a href="http://try.haxe.org/#bfAe8" target="_blank">http://try.haxe.org/#bfAe8</a></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../08json/about.html" class="navigation navigation-prev " aria-label="Previous page: Example Json"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../follow.html" class="navigation navigation-next " aria-label="Next page: Who to follow"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"edit-link":{"base":"https://github.com/MatthijsKamstra/haxejs/blob/master/","label":""},"disqus":{"shortName":"haxeandjavascript"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
